import re

with open('config.py', 'r') as f:
    content = f.read()

# New EQUIPMENT_DB content with detailed descriptions
new_equipment_db = '''EQUIPMENT_DB = {
    "rusty_knife": {
        "name": "üî™ –†–ñ–ê–í–´–ô –ù–û–ñ",
        "slot": "weapon", "atk": 2, "def": 0, "luck": 0, "price": 50,
        "desc": "–û—Ä—É–∂–∏–µ. –°–ª–∞–±–æ–µ, –Ω–æ –ª—É—á—à–µ —á–µ–º –∫—É–ª–∞–∫–∏. –î–∞–µ—Ç +2 –∫ –ê—Ç–∞–∫–µ. –ê—Ç–∞–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥ –∏ –æ–ø—ã—Ç–∞."
    },
    "crowbar": {
        "name": "üî® –ú–û–ù–¢–ò–†–û–í–ö–ê",
        "slot": "weapon", "atk": 5, "def": 0, "luck": 1, "price": 150,
        "desc": "–û—Ä—É–∂–∏–µ. –ö—Ä–µ–ø–∫–∞—è –∂–µ–ª–µ–∑–Ω–∞—è –ø–∞–ª–∫–∞. –î–∞–µ—Ç +5 –∫ –ê—Ç–∞–∫–µ. –ü–æ–º–æ–≥–∞–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–≤–µ—Ä–∏."
    },
    "cyber_katana": {
        "name": "‚öîÔ∏è –ö–ò–ë–ï–†-–ö–ê–¢–ê–ù–ê",
        "slot": "weapon", "atk": 15, "def": 2, "luck": 5, "price": 1200,
        "desc": "–û—Ä—É–∂–∏–µ. –ù–∞—Å—Ç–æ—è—â–∏–π –º–µ—á –∏–∑ –±—É–¥—É—â–µ–≥–æ. –û—á–µ–Ω—å –æ—Å—Ç—Ä—ã–π. –î–∞–µ—Ç +15 –∫ –ê—Ç–∞–∫–µ."
    },

    "hoodie":      {
        "name": "üß• –•–£–î–ò",
        "slot": "armor", "atk": 0, "def": 2, "luck": 1, "price": 50,
        "desc": "–ë—Ä–æ–Ω—è. –ü—Ä–æ—Å—Ç–∞—è –æ–¥–µ–∂–¥–∞. –ó–∞—â–∏—â–∞–µ—Ç –Ω–µ–º–Ω–æ–≥–æ. –î–∞–µ—Ç +2 –∫ –ó–∞—â–∏—Ç–µ. –ó–∞—â–∏—Ç–∞ —Å–ø–∞—Å–∞–µ—Ç –æ—Ç –ª–æ–≤—É—à–µ–∫."
    },
    "kevlar_vest": {
        "name": "ü¶∫ –ö–ï–í–õ–ê–†",
        "slot": "armor", "atk": 0, "def": 8, "luck": 0, "price": 300,
        "desc": "–ë—Ä–æ–Ω—è. –ü—É–ª–µ–Ω–µ–ø—Ä–æ–±–∏–≤–∞–µ–º—ã–π –∂–∏–ª–µ—Ç. –•–æ—Ä–æ—à–æ –∑–∞—â–∏—â–∞–µ—Ç. –î–∞–µ—Ç +8 –∫ –ó–∞—â–∏—Ç–µ."
    },
    "nano_suit":   {
        "name": "ü¶æ –ù–ê–ù–û-–ö–û–°–¢–Æ–ú",
        "slot": "armor", "atk": 5, "def": 20, "luck": 5, "price": 2000,
        "desc": "–ë—Ä–æ–Ω—è. –§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ—Å—Ç—é–º. –û—á–µ–Ω—å —Å–∏–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞. –î–∞–µ—Ç +20 –∫ –ó–∞—â–∏—Ç–µ."
    },

    "ram_chip":    {
        "name": "üíæ RAM Mod",
        "slot": "chip", "atk": 5, "def": 5, "luck": 5, "price": 200,
        "desc": "–ê–ø–≥—Ä–µ–π–¥. –î–æ–±–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç–∏ –º–æ–∑–≥—É. –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞ +5."
    },
    "ai_core":     {
        "name": "üîÆ AI Core",
        "slot": "chip", "atk": 10, "def": 10, "luck": 20, "price": 2500,
        "desc": "–ê–ø–≥—Ä–µ–π–¥. –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ –ø–æ–º–æ—â—å. –°–∏–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (+10/+10/+20)."
    }
}'''

# Replace EQUIPMENT_DB_OLD block (which was renamed) with new content.
# We look for the start of the dict and replace until the matching closing brace.
# But regex matching nested braces is hard.
# Instead, we know the structure from previous cat.
# It starts at "EQUIPMENT_DB_OLD = {" and ends at line ~100 "}"

# Better strategy: Replace the whole definition block using regex.
pattern_db = r"EQUIPMENT_DB_OLD\s*=\s*\{.*?\n\}"
content = re.sub(pattern_db, new_equipment_db, content, flags=re.DOTALL)

# Update ITEMS_INFO
new_items_info = '''ITEMS_INFO = {
    "compass": {
        "name": "üß≠ –ö–û–ú–ü–ê–°", "durability": 10,
        "desc": "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–Ω–∞—Ç–µ, –¥–æ —Ç–æ–≥–æ –∫–∞–∫ —Ç—ã —Ç—É–¥–∞ –≤–æ–π–¥–µ—à—å. –ò—Å–ø–æ–ª—å–∑—É–π, —á—Ç–æ–±—ã –∏–∑–±–µ–≥–∞—Ç—å –ª–æ–≤—É—à–µ–∫! –†–∞–±–æ—Ç–∞–µ—Ç 10 —Ö–æ–¥–æ–≤."
    },
    "master_key": {
        "name": "üîë –ö–õ–Æ–ß", "max_stack": 5,
        "desc": "–û—Å–æ–±—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∑–∞–ø–µ—Ä—Ç—ã–µ —Å—É–Ω–¥—É–∫–∏. –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Å—É–Ω–¥—É–∫ —Å –∑–∞–º–∫–æ–º ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∫–ª—é—á, —á—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å —Å–æ–∫—Ä–æ–≤–∏—â–∞. –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π."
    },
    "battery": {
        "name": "üîã –ë–ê–¢–ê–†–ï–Ø", "heal": 30,
        "desc": "–ò—Å—Ç–æ—á–Ω–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏. –ï—Å–ª–∏ —Ç–≤–æ–π –°–∏–≥–Ω–∞–ª (–ó–¥–æ—Ä–æ–≤—å–µ) –Ω–∏–∑–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ, —á—Ç–æ–±—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 30% –∑–¥–æ—Ä–æ–≤—å—è. –ù–µ —É–º–∏—Ä–∞–π!"
    },
    "aegis": {
        "name": "üõ° –≠–ì–ò–î–ê", "durability": 1,
        "desc": "–ê–±—Å–æ–ª—é—Ç–Ω—ã–π —â–∏—Ç. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç –û–î–ò–ù —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã–π —É–¥–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—ã —É–±–∏–ª —Ç–µ–±—è. –ò—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Å–ø–∞—Å–µ—Ç —Ç–µ–±–µ –∂–∏–∑–Ω—å."
    },
    "admin_key": {"name": "üî• GLITCH KEY", "desc": "–ê—Ä—Ç–µ—Ñ–∞–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. –î–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—É—é –≤–ª–∞—Å—Ç—å."},
    # –ê–≤—Ç–æ-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
    **{k: {'name': v['name'], 'desc': v['desc'], 'type': 'equip', 'stats': v} for k, v in EQUIPMENT_DB.items()}
}'''

pattern_items = r"ITEMS_INFO\s*=\s*\{.*?\n\}"
content = re.sub(pattern_items, new_items_info, content, flags=re.DOTALL)

# Add RIDDLE_DISTRACTORS
distractors = '''
RIDDLE_DISTRACTORS = [
    "–≠—Ö–æ", "–¢–µ–Ω—å", "–ú–µ—Ä—Ü–∞–Ω–∏–µ", "–§–∞–Ω—Ç–æ–º", "–ó–µ—Ä–∫–∞–ª–æ",
    "–ë–µ–∑–¥–Ω–∞", "–û—Å–∫–æ–ª–æ–∫", "–°–∏–≥–Ω–∞–ª", "–ö–æ–¥", "–ú–∞—Ç—Ä–∏—Ü–∞",
    "–ò–ª–ª—é–∑–∏—è", "–°–æ–Ω", "–ü–∞–º—è—Ç—å", "–ó–∞–±–≤–µ–Ω–∏–µ", "–®–µ–ø–æ—Ç",
    "–ö–ª—é—á", "–ó–∞–º–æ–∫", "–î–≤–µ—Ä—å", "–°—Ç–µ–Ω–∞", "–õ–∞–±–∏—Ä–∏–Ω—Ç",
    "–í–∏—Ä—É—Å", "–ì–ª–∏—Ç—á", "–ë–∞–≥", "–ü–∞—Ç—Ç–µ—Ä–Ω", "–¶–∏–∫–ª"
]
'''
content += distractors

with open('config.py', 'w') as f:
    f.write(content)
